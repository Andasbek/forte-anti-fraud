````markdown
# üõ°Ô∏è Forte Anti-Fraud Scoring

–ü—Ä–æ–µ–∫—Ç –¥–ª—è AI Hackathon ForteBank: –ø—Ä–æ—Ç–æ—Ç–∏–ø –∞–Ω—Ç–∏—Ñ—Ä–æ–¥-—Å–∏—Å—Ç–µ–º—ã –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–≥–æ –±–∞–Ω–∫–∏–Ω–≥–∞.  
–Ø–¥—Ä–æ ‚Äî ML-–º–æ–¥–µ–ª—å (XGBoost) –ø–æ –ø–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏–º –∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω—ã–º –ø—Ä–∏–∑–Ω–∞–∫–∞–º, –≤–æ–∫—Ä—É–≥ –Ω–µ—ë ‚Äî FastAPI backend –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –Ω–∞ Vite + React + TypeScript + TailwindCSS.

---

## üîç –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞

- –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∏ –Ω–µ–¥–∞–≤–Ω–µ–º—É –ø–æ–≤–µ–¥–µ–Ω–∏—é –∫–ª–∏–µ–Ω—Ç–∞.
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
  - `fraud_probability` ‚Äî –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –º–æ—à–µ–Ω–Ω–∏—á–µ—Å—Ç–≤–∞ (0‚Äì1),
  - `risk_level` ‚Äî `low` / `medium` / `high` –ø–æ –∑–∞—Ä–∞–Ω–µ–µ –æ—Ç–∫–∞–ª–∏–±—Ä–æ–≤–∞–Ω–Ω—ã–º –ø–æ—Ä–æ–≥–∞–º,
  - `model_version` ‚Äî –≤–µ—Ä—Å–∏—è –º–æ–¥–µ–ª–∏.
- –£–º–µ–µ—Ç:
  - –°—á–∏—Ç–∞—Ç—å **–æ–¥–Ω—É —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é** (online scoring),
  - –°—á–∏—Ç–∞—Ç—å **–±–∞—Ç—á —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π** (–¥–ª—è ‚Äú–¥–Ω—è –æ–ø–µ—Ä–∞—Ü–∏–π‚Äù),
  - –û–±—ä—è—Å–Ω—è—Ç—å —Ä–µ—à–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ —á–µ—Ä–µ–∑ LLM (–∫–Ω–æ–ø–∫–∞ **‚Äú–û–±—ä—è—Å–Ω–∏—Ç—å —Ä–µ—à–µ–Ω–∏–µ (LLM)‚Äù**).
- –ù–∞ —Ñ—Ä–æ–Ω—Ç–µ:
  - —Ñ–æ—Ä–º–∞ –≤–≤–æ–¥–∞ –∫–ª—é—á–µ–≤—ã—Ö —Ñ–∏—á,
  - –Ω–µ—Å–∫–æ–ª—å–∫–æ **—Å—Ü–µ–Ω–∞—Ä–Ω—ã—Ö –ø—Ä–µ—Å–µ—Ç–æ–≤** –ø–æ–≤–µ–¥–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞,
  - –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–∏—Å–∫–∞ (–±–µ–π–¥–∂ + ‚Äú–≤–æ—Ä–æ–Ω–∫–∞‚Äù),
  - –∏—Å—Ç–æ—Ä–∏—è –ø—Ä–æ–≤–µ—Ä–æ–∫ –∑–∞ —Å–µ—Å—Å–∏—é,
  - —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –æ—Ç LLM.

---

## üß± –°—Ç–µ–∫

**Backend**

- Python 3.11
- FastAPI
- Uvicorn
- XGBoost
- Pydantic / pydantic-settings
- SQLite (–¥–ª—è –ª–æ–≥–æ–≤ –∑–∞–ø—Ä–æ—Å–æ–≤)
- OpenAI SDK (LLM-–æ–±—ä—è—Å–Ω–µ–Ω–∏—è, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**Frontend**

- Node.js (LTS)
- Vite
- React
- TypeScript
- TailwindCSS 4

**DevOps**

- Docker
- docker-compose

---

## üóÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–£—Å–ª–æ–≤–Ω–æ:

```bash
.
‚îú‚îÄ backend/
‚îÇ  ‚îú‚îÄ app/
‚îÇ  ‚îÇ  ‚îú‚îÄ main.py                # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ FastAPI
‚îÇ  ‚îÇ  ‚îú‚îÄ api/
‚îÇ  ‚îÇ  ‚îÇ  ‚îî‚îÄ v1/
‚îÇ  ‚îÇ  ‚îÇ     ‚îî‚îÄ scoring.py       # –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã /score_transaction, /score_batch, /explain_transaction
‚îÇ  ‚îÇ  ‚îú‚îÄ core/
‚îÇ  ‚îÇ  ‚îÇ  ‚îî‚îÄ config.py           # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (env, –ø—É—Ç–∏ –∫ –º–æ–¥–µ–ª—è–º, –ø–æ—Ä–æ–≥–∏ —Ä–∏—Å–∫–∞)
‚îÇ  ‚îÇ  ‚îú‚îÄ schemas/
‚îÇ  ‚îÇ  ‚îÇ  ‚îî‚îÄ transactions.py     # Pydantic-—Å—Ö–µ–º—ã –∑–∞–ø—Ä–æ—Å–æ–≤/–æ—Ç–≤–µ—Ç–æ–≤
‚îÇ  ‚îÇ  ‚îú‚îÄ services/
‚îÇ  ‚îÇ  ‚îÇ  ‚îú‚îÄ fraud_model.py      # –ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏, –ø—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–∏–Ω–≥, inference
‚îÇ  ‚îÇ  ‚îÇ  ‚îú‚îÄ logger.py           # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∫–æ—Ä–∏–Ω–≥–æ–≤ –≤ SQLite
‚îÇ  ‚îÇ  ‚îÇ  ‚îî‚îÄ llm_explainer.py    # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å OpenAI –¥–ª—è —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –æ–±—ä—è—Å–Ω–µ–Ω–∏–π
‚îÇ  ‚îÇ  ‚îî‚îÄ db/
‚îÇ  ‚îÇ     ‚îî‚îÄ init_logs_db.py     # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ë–î –ª–æ–≥–æ–≤ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
‚îÇ  ‚îî‚îÄ tests/
‚îÇ     ‚îî‚îÄ ...                    # pytest-—Ç–µ—Å—Ç—ã (backend / ML)
‚îÇ
‚îú‚îÄ frontend/
‚îÇ  ‚îú‚îÄ index.html
‚îÇ  ‚îú‚îÄ vite.config.ts
‚îÇ  ‚îú‚îÄ tailwind.config.{js,cjs}
‚îÇ  ‚îî‚îÄ src/
‚îÇ     ‚îú‚îÄ main.tsx
‚îÇ     ‚îú‚îÄ App.tsx                # –û—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îÇ     ‚îî‚îÄ services/
‚îÇ        ‚îî‚îÄ api.ts              # –û–±—ë—Ä—Ç–∫–∏ –Ω–∞–¥ REST API backend‚Äô–∞
‚îÇ
‚îú‚îÄ ml/
‚îÇ  ‚îú‚îÄ models/
‚îÇ  ‚îÇ  ‚îî‚îÄ model_xgb_baseline.pkl # –û–±—É—á–µ–Ω–Ω–∞—è XGBoost-–º–æ–¥–µ–ª—å
‚îÇ  ‚îî‚îÄ notebooks/
‚îÇ     ‚îî‚îÄ 01_train_model.ipynb   # –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ –º–æ–¥–µ–ª–∏ (Jupyter)
‚îÇ
‚îú‚îÄ logs/
‚îÇ  ‚îî‚îÄ scoring_logs.db           # SQLite —Å –ª–æ–≥–∞–º–∏ —Å–∫–æ—Ä–∏–Ω–≥–∞
‚îÇ
‚îú‚îÄ .env                         # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è backend‚Äô–∞
‚îú‚îÄ frontend/.env                # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —Ñ—Ä–æ–Ω—Ç–∞
‚îú‚îÄ docker-compose.yml
‚îú‚îÄ backend.Dockerfile
‚îú‚îÄ frontend.Dockerfile
‚îú‚îÄ requirements.txt
‚îú‚îÄ package.json                 # (–¥–ª—è root –∏–ª–∏ —Ç–æ–ª—å–∫–æ –¥–ª—è frontend, –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—ã)
‚îî‚îÄ README.md
````

---

## ‚öôÔ∏è –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### Backend (`.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞)

```env
# FastAPI / –º–æ–¥–µ–ª—å
MODEL_PATH=ml/models/model_xgb_baseline.pkl

# –ü–æ—Ä–æ–≥–∏ —Ä–∏—Å–∫–∞
RISK_THRESHOLD_MEDIUM=0.26
RISK_THRESHOLD_HIGH=0.80

# API-–ø—Ä–µ—Ñ–∏–∫—Å –∏ –ø—Ä–æ–µ–∫—Ç
PROJECT_NAME="Forte Anti-Fraud API"
API_V1_PREFIX=/api/v1

# API-—Ç–æ–∫–µ–Ω (–µ—Å–ª–∏ –ø—É—Å—Ç–æ ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã–∫–ª—é—á–µ–Ω–∞)
API_TOKEN=

# –õ–æ–≥–∏ —Å–∫–æ—Ä–∏–Ω–≥–∞ (SQLite)
LOG_DB_PATH=logs/scoring_logs.db

# LLM (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
OPENAI_API_KEY=sk-...        # –µ—Å–ª–∏ –Ω–µ –∑–∞–¥–∞—Ç—å ‚Äî LLM-–æ–±—ä—è—Å–Ω–µ–Ω–∏—è –±—É–¥—É—Ç –æ—Ç–∫–ª—é—á–µ–Ω—ã
OPENAI_MODEL=gpt-4.1-mini    # –∏–ª–∏ gpt-4o, gpt-4.1 –∏ –¥—Ä.
```

### Frontend (`frontend/.env`)

```env
# –ê–¥—Ä–µ—Å backend API
VITE_API_BASE_URL=http://localhost:8000

# API –∫–ª—é—á –¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–∞ X-API-Key (–¥–æ–ª–∂–µ–Ω —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å API_TOKEN –≤ .env backend, –µ—Å–ª–∏ –æ–Ω –∑–∞–¥–∞–Ω)
VITE_API_KEY=
```

> ‚ö†Ô∏è –ï—Å–ª–∏ `API_TOKEN` –ø—É—Å—Ç–æ–π, —Ç–æ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞ –Ω–∞ backend –æ—Ç–∫–ª—é—á–µ–Ω–∞ –∏ `VITE_API_KEY` –º–æ–∂–Ω–æ –Ω–µ –∑–∞–¥–∞–≤–∞—Ç—å.

---

## üöÄ –ó–∞–ø—É—Å–∫ –±–µ–∑ Docker

### 1. Backend

1. –ê–∫—Ç–∏–≤–∏—Ä—É–π –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```bash
cd backend  # –µ—Å–ª–∏ requirements.txt –ª–µ–∂–∏—Ç –≤ –∫–æ—Ä–Ω–µ - cd .. —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ

python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

pip install -r ../requirements.txt  # –∏–ª–∏ ./requirements.txt, –µ—Å–ª–∏ –æ–Ω —Ä—è–¥–æ–º
```

2. –£–±–µ–¥–∏—Å—å, —á—Ç–æ –º–æ–¥–µ–ª—å –ª–µ–∂–∏—Ç –ø–æ –ø—É—Ç–∏ –∏–∑ `MODEL_PATH`
   (–Ω–∞–ø—Ä–∏–º–µ—Ä, `ml/models/model_xgb_baseline.pkl`).

3. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ ‚Äî —Å–æ–∑–¥–∞–π –ø–∞–ø–∫—É –∏ –ë–î –ª–æ–≥–æ–≤:

```bash
mkdir -p logs
# SQLite —Å–æ–∑–¥–∞—Å—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—Ä–æ—Å–µ, –µ—Å–ª–∏ –ª–æ–≥–≥–µ—Ä —Ç–∞–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
```

4. –ó–∞–ø—É—Å—Ç–∏ backend:

```bash
uvicorn backend.app.main:app --reload
# –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: http://localhost:8000
```

5. –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç:

```bash
curl -X POST "http://localhost:8000/api/v1/score_transaction" \
  -H "Content-Type: application/json" \
  -d '{
    "amount": 31000,
    "os_ver_cnt_30d": 2,
    "phone_model_cnt_30d": 1,
    "login_sessions_7d": 15,
    "login_sessions_30d": 80
  }'
```

–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:

```json
{
  "fraud_probability": 0.0006920851,
  "risk_level": "low",
  "model_version": "xgb_baseline_v1"
}
```

---

### 2. Frontend

```bash
cd frontend
npm install
npm run dev
```

–§—Ä–æ–Ω—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞:
üëâ `http://localhost:5173` (–∏–ª–∏ –¥—Ä—É–≥–æ–π –ø–æ—Ä—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∫–∞–∂–µ—Ç Vite).

–§–æ—Ä–º—É –º–æ–∂–Ω–æ –∑–∞–ø–æ–ª–Ω—è—Ç—å –≤—Ä—É—á–Ω—É—é –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **–ø—Ä–µ—Å–µ—Ç—ã**:

* ‚Äú–ü—Ä–∏–º–µ—Ä –Ω–æ—Ä–º–∞–ª—å–Ω–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞‚Äù
* ‚Äú–ü—Ä–∏–º–µ—Ä –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Ñ—Ä–æ–¥–∞‚Äù
* ‚Äú–ù–æ–≤—ã–π –¥–µ–≤–∞–π—Å + –∫—Ä—É–ø–Ω–∞—è —Å—É–º–º–∞‚Äù
* ‚Äú–°–µ—Ä–∏—è –º–µ–ª–∫–∏—Ö –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –Ω–æ—á—å—é‚Äù

---

## üê≥ –ó–∞–ø—É—Å–∫ —Å Docker

### 1. docker-compose

–í –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ (`docker-compose.yml`), –Ω–∞–ø—Ä–∏–º–µ—Ä:

```yaml
version: "3.9"

services:
  backend:
    build:
      context: .
      dockerfile: backend.Dockerfile
    container_name: forte-backend
    env_file:
      - .env
    ports:
      - "8000:8000"
    volumes:
      - ./ml/models:/app/ml/models
      - ./logs:/app/logs

  frontend:
    build:
      context: ./frontend
      dockerfile: ../frontend.Dockerfile
    container_name: forte-frontend
    env_file:
      - ./frontend/.env
    ports:
      - "5173:5173"
    depends_on:
      - backend
```

### 2. –°–æ–±—Ä–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å

```bash
docker compose build
docker compose up
```

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ:

* Backend: `http://localhost:8000`
* Frontend: `http://localhost:5173`

---

## üì° API: —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

### 1. `POST /api/v1/score_transaction`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** —Å–∫–æ—Ä–∏–Ω–≥ –æ–¥–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏.

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**

```json
{
  "amount": 31000,
  "os_ver_cnt_30d": 2,
  "phone_model_cnt_30d": 1,
  "login_sessions_7d": 15,
  "login_sessions_30d": 80,
  "logins_per_day_7d": 2.1,
  "logins_per_day_30d": 1.3,
  "login_freq_change_7d_vs_30d": 0.2,
  "logins_7d_share_of_30d": 0.3,
  "avg_session_interval_30d": 120,
  "std_session_interval_30d": 60,
  "var_session_interval_30d": 3600,
  "ewm_session_interval_7d": 90,
  "burstiness_sessions": 0.5,
  "fano_factor_sessions": 1.2,
  "zscore_interval_7d_vs_30d": -0.4
}
```

–í—Å–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –º–æ–∂–Ω–æ –Ω–µ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å ‚Äî –º–æ–¥–µ–ª—å –∏—Ö —Ç–æ–≥–¥–∞ –∑–∞–º–µ–Ω–∏—Ç –Ω–∞ `0` –∏ –æ—Ç–º–µ—Ç–∏—Ç —Ñ–ª–∞–≥–∞–º–∏ ‚Äúmissing‚Äù.

**–û—Ç–≤–µ—Ç:**

```json
{
  "fraud_probability": 0.8798,
  "risk_level": "high",
  "model_version": "xgb_baseline_v1"
}
```

---

### 2. `POST /api/v1/score_batch`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** —Å–∫–æ—Ä–∏–Ω–≥ —Å–ø–∏—Å–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π.

**–ó–∞–ø—Ä–æ—Å:**

```json
{
  "transactions": [
    {
      "amount": 10000,
      "os_ver_cnt_30d": 1,
      "phone_model_cnt_30d": 1,
      "login_sessions_7d": 10,
      "login_sessions_30d": 40
    },
    {
      "amount": 300000,
      "os_ver_cnt_30d": 3,
      "phone_model_cnt_30d": 3,
      "login_sessions_7d": 50,
      "login_sessions_30d": 60
    }
  ]
}
```

**–û—Ç–≤–µ—Ç:**

```json
{
  "results": [
    {
      "fraud_probability": 0.02,
      "risk_level": "low",
      "model_version": "xgb_baseline_v1"
    },
    {
      "fraud_probability": 0.85,
      "risk_level": "high",
      "model_version": "xgb_baseline_v1"
    }
  ]
}
```

---

### 3. `POST /api/v1/explain_transaction`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ø–æ–ª—É—á–∏—Ç—å —á–µ–ª–æ–≤–µ–∫–æ-—á–∏—Ç–∞–µ–º–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ —Ä–µ—à–µ–Ω–∏—è –º–æ–¥–µ–ª–∏ —á–µ—Ä–µ–∑ LLM.

ML-–º–æ–¥–µ–ª—å —É–∂–µ –æ—Ç—Ä–∞–±–æ—Ç–∞–ª–∞ –Ω–∞ backend, —Ñ—Ä–æ–Ω—Ç –ø–µ—Ä–µ–¥–∞—ë—Ç:

* –∏—Å—Ö–æ–¥–Ω—ã–µ —Ñ–∏—á–∏ (`transaction`),
* `fraud_probability`,
* `risk_level`.

**–ó–∞–ø—Ä–æ—Å:**

```json
{
  "transaction": {
    "amount": 300000,
    "os_ver_cnt_30d": 3,
    "phone_model_cnt_30d": 3,
    "login_sessions_7d": 50,
    "login_sessions_30d": 60
  },
  "fraud_probability": 0.87,
  "risk_level": "high"
}
```

**–û—Ç–≤–µ—Ç (–ø—Ä–∏–º–µ—Ä):**

```json
{
  "fraud_probability": 0.87,
  "risk_level": "high",
  "explanation": "–†–∏—Å–∫ –≤—ã—Å–æ–∫–∏–π, —Ç–∞–∫ –∫–∞–∫ —Å—É–º–º–∞ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–µ–≤—ã—à–∞–µ—Ç –æ–±—ã—á–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã, —É–≤–µ–ª–∏—á–∏–ª–æ—Å—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –∏ —É—á–∞—Å—Ç–∏–ª–∏—Å—å –ª–æ–≥–∏–Ω—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –¥–Ω–∏. –¢–∞–∫–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ —á–∞—Å—Ç–æ –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è –ø—Ä–∏ –∑–∞—Ö–≤–∞—Ç–µ –∞–∫–∫–∞—É–Ω—Ç–∞ –º–æ—à–µ–Ω–Ω–∏–∫–∞–º–∏."
}
```

> ‚ö†Ô∏è –ï—Å–ª–∏ `OPENAI_API_KEY` –Ω–µ –∑–∞–¥–∞–Ω, backend –≤–µ—Ä–Ω—ë—Ç –∞–∫–∫—É—Ä–∞—Ç–Ω—ã–π —Ç–µ–∫—Å—Ç-–∑–∞–≥–ª—É—à–∫—É, –Ω–æ –Ω–µ —É–ø–∞–¥—ë—Ç.

---

## üß† ML-—á–∞—Å—Ç—å (–∫—Ä–∞—Ç–∫–æ)

–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π `docs/ml.md`, –Ω–æ –∫—Ä–∞—Ç–∫–æ:

* –î–≤–∞ –¥–∞—Ç–∞—Å–µ—Ç–∞ –æ—Ç –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–æ–≤: —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ + –∞–≥–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏–µ —Ñ–∏—á–∏ –ø–æ –ª–æ–≥–∏–Ω–∞–º.
* –ü—Ä–æ–≤–µ–¥—ë–Ω merge –ø–æ `client_id` + `trans_date`/`transdate`.
* –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–æ–ø—É—Å–∫–æ–≤:

  * —á–∏—Å–ª–æ–≤—ã–µ —Ñ–∏—á–∏ ‚Üí `0` + –±–∏–Ω–∞—Ä–Ω—ã–π —Ñ–ª–∞–≥ `_was_missing`,
  * amount ‚Üí —Ç–∏–ø–∏–∑–∞—Ü–∏—è, –æ—á–∏—Å—Ç–∫–∞.
* –û–±—É—á–µ–Ω–∞ XGBoost-–º–æ–¥–µ–ª—å:

  * —É—á—ë—Ç –¥–∏—Å–±–∞–ª–∞–Ω—Å–∞ –∫–ª–∞—Å—Å–æ–≤ (`scale_pos_weight`),
  * time-based split: —Ä–∞–Ω–Ω–∏–µ –¥–∞—Ç—ã ‚Üí train, –ø–æ–∑–¥–Ω–∏–µ ‚Üí valid,
  * –∏—Ç–æ–≥–æ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏: ROC-AUC ‚âà 0.88, PR-AUC ‚âà 0.47.
* –ü–æ–¥–±–æ—Ä –ø–æ—Ä–æ–≥–æ–≤:

  * `low` ‚Äî –∞–≤—Ç–æ–æ–¥–æ–±—Ä–µ–Ω–∏–µ (–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π FPR),
  * `medium` ‚Äî soft-check (push / SMS),
  * `high` ‚Äî –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ / —Ä—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞.
* –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å baseline (Logistic Regression / RandomForest) ‚Äî XGBoost –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ª—É—á—à–∏–π –±–∞–ª–∞–Ω—Å ROC-AUC –∏ PR-AUC.

---

## üßë‚Äçüíª –°—Ü–µ–Ω–∞—Ä–∏–π –¥–µ–º–æ (–¥–ª—è –∑–∞—â–∏—Ç—ã)

1. **–ó–∞–ø—É—Å–∫**

   * (–∞) –õ–æ–∫–∞–ª—å–Ω–æ: `uvicorn backend.app.main:app --reload` + `npm run dev` –≤ `frontend/`.
   * (–±) –ß–µ—Ä–µ–∑ Docker: `docker compose up`.

2. **Demo-flow**

   * –û—Ç–∫—Ä—ã—Ç—å —Ñ—Ä–æ–Ω—Ç.
   * –ü–æ–∫–∞–∑–∞—Ç—å –±–∞–∑–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π:

     * –∑–∞–ø–æ–ª–Ω–∏—Ç—å —Ñ–æ—Ä–º—É –∏–ª–∏ –≤—ã–±—Ä–∞—Ç—å ‚Äú–ü—Ä–∏–º–µ—Ä –Ω–æ—Ä–º–∞–ª—å–Ω–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞‚Äù,
     * –ø–æ–∫–∞–∑–∞—Ç—å `low risk`, –∏—Å—Ç–æ—Ä–∏—é –∏ –≤–æ—Ä–æ–Ω–∫—É.
   * –ü–æ–∫–∞–∑–∞—Ç—å —Ñ—Ä–æ–¥-—Å—Ü–µ–Ω–∞—Ä–∏–π:

     * –ø—Ä–µ—Å–µ—Ç ‚Äú–ü—Ä–∏–º–µ—Ä –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Ñ—Ä–æ–¥–∞‚Äù –∏–ª–∏ ‚Äú–ù–æ–≤—ã–π –¥–µ–≤–∞–π—Å + –∫—Ä—É–ø–Ω–∞—è —Å—É–º–º–∞‚Äù,
     * —É–≤–∏–¥–µ—Ç—å `high risk`.
   * –ù–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É **‚Äú–û–±—ä—è—Å–Ω–∏—Ç—å —Ä–µ—à–µ–Ω–∏–µ (LLM)‚Äù**:

     * –ø–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—Å—Ç, –∫–æ—Ç–æ—Ä—ã–π ‚Äú–ø–µ—Ä–µ–≤–æ–¥–∏—Ç‚Äù –≤—ã–≤–æ–¥ –º–æ–¥–µ–ª–∏ –Ω–∞ —á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏–π —è–∑—ã–∫.
   * –ü–æ–∫–∞–∑–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é: –∫–∞–∫ –º–µ–Ω—è–µ—Ç—Å—è —Ä–∏—Å–∫ –≤ —Å–µ—Å—Å–∏–∏.

3. **–û—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –∂—é—Ä–∏**

   * –ö–∞–∫ –æ–±—É—á–∞–ª–∏ –º–æ–¥–µ–ª—å, –ø–æ—á–µ–º—É XGBoost.
   * –ö–∞–∫ –±–æ—Ä–æ–ª–∏—Å—å —Å –¥–∏—Å–±–∞–ª–∞–Ω—Å–æ–º.
   * –ü–æ—á–µ–º—É —Å–¥–µ–ª–∞–ª–∏ time-based split.
   * –ö–∞–∫ –ø–æ—Ä–æ–≥–∏ `low/medium/high` —Å–≤—è–∑–∞–Ω—ã —Å –±–∏–∑–Ω–µ—Å-—Å—Ü–µ–Ω–∞—Ä–∏—è–º–∏ (–∞–≤—Ç–æ–æ–¥–æ–±—Ä–µ–Ω–∏–µ / soft-check / –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞).
   * –ö–∞–∫ –º–æ–∂–Ω–æ —Ä–∞–∑–≤–∏–≤–∞—Ç—å:

     * –±–æ–ª—å—à–µ —Ñ–∏—á (–≥–µ–æ, device fingerprint, —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–æ ‚Äú–æ–±—ã—á–Ω–æ–≥–æ‚Äù –ø–æ–≤–µ–¥–µ–Ω–∏—è),
     * –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¥—Ä–µ–π—Ñ–∞ –¥–∞–Ω–Ω—ã—Ö,
     * –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –Ω–∞—Å—Ç–æ—è—â–µ–π antifraud-pipeline –±–∞–Ω–∫–∞.

---

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ, –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ —á–∞—Å—Ç–∏ README –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã:

* `docs/backend.md` ‚Äî –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ API –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã,
* `docs/ml.md` ‚Äî –ø–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ–∏—á, —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω–æ–≥–æ –ø–∞–π–ø–ª–∞–π–Ω–∞ –∏ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤,
* `docs/frontend.md` ‚Äî –¥–µ—Ç–∞–ª–∏ UI/UX, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞.
  –ù–æ –¥–ª—è —Ö–∞–∫–∞—Ç–æ–Ω–∞ —Ç–µ–∫—É—â–∏–π README —É–∂–µ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å–∞–º–æ–¥–æ—Å—Ç–∞—Ç–æ—á–µ–Ω.

```
::contentReference[oaicite:0]{index=0}
```
